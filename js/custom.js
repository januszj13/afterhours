var mrModal={overlay:$('<div id="mr-overlay" class="mr-modal__overlay"></div>'),content:$('<div id="mr-wrapper" class="mr-modal__wrapper"><div id="mr-content" class="mr-modal__content"></div><div id="mr-close" class="mr-modal__close">X</div></div>'),openUserId:function(e){$.get("user-profile.html",function(t){t=t.replace("{{user.id}}",e),$("#mr-content").empty().append(t)}).fail(function(){$("#mr-content").empty().append("We failed and we are really sorry.")}),this.overlay.fadeIn(500)},init:function(e){console.log("Hello Hussars! Console.log() is handy but this should be removed on production or before commit."),console.log("Just wanted to say hello ;)"),$("body").append(this.overlay),$("#mr-overlay").append(this.content).hide(),$("#mr-close").click(function(){$("#mr-overlay").fadeOut(500,function(){$("#mr-content").empty()})}),$("body").on("click",e,function(e){e.preventDefault(),mrModal.openUserId($(this).attr("data-userid"))})}};mrModal.init("a[rel='author']");var mrMore={container:"",currentPage:1,pageSize:3,moreLink:$('<a href="#" id="mrm-link" class="mr-more__link">Load more</a>'),decode:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},loadMore:function(){var e="https://api.stackexchange.com/2.2/questions?page="+this.currentPage+"&pagesize="+this.pageSize+"&todate=1434412800&order=desc&sort=activity&tagged=javascript&site=stackoverflow",t=this;$.get(e,function(e){var n=e.items,a=$("#more-content");n.forEach(function(e){var n={profile_image:e.owner.profile_image,link:e.link,author_link:e.owner.link,answer_count:e.answer_count,user_id:e.owner.user_id,display_name:e.owner.display_name,title:t.decode(e.title),question_id:e.owner.question_id},i=$("#channels");$.get("templates/question.html",function(e){var t=e,r=Mustache.render(t,n);a.append(r),a.removeClass("post-template"),i.listview("refresh")})})}).fail(function(){$(t.container).append("We couldn't get data from stackExchange API")}),this.currentPage=this.currentPage+1},init:function(e){this.container=e.container,this.pageSize=e.pageSize,$(this.container).append('<div id="more-content"></div>'),$(this.container).append(this.moreLink),this.currentPage=$(this.container).attr("data-current-page")+1,this.pageSize=$(this.container).attr("data-page-size");var t=this;this.moreLink.on("click",function(e){e.preventDefault(),t.loadMore()})}};mrMore.init({container:".main-container",pageSize:"1"});